/**
* @license Input Mask plugin for jquery
* http://github.com/RobinHerbots/jquery.inputmask
* Copyright (c) 2010 - 2014 Robin Herbots
* Licensed under the MIT license (http://www.opensource.org/licenses/mit-license.php)
* Version: 0.0.0
*/
!function(e){if(void 0===e.fn.inputmask){function t(e){var t=document.createElement("input"),i=(e="on"+e)in t;return i||(t.setAttribute(e,"return;"),i="function"==typeof t[e]),t=null,i}function i(t,n,a){var s=a.aliases[t];return!!s&&(s.alias&&i(s.alias,void 0,a),e.extend(!0,a,s),e.extend(!0,a,n),!0)}function n(t){function i(i){t.numericInput&&(i=i.split("").reverse().join(""));var n=!1,a=0,s=t.greedy,r=t.repeat;"*"==r&&(s=!1),1==i.length&&0==s&&0!=r&&(t.placeholder="");for(var o=e.map(i.split(""),function(e,i){var s=[];if(e==t.escapeChar)n=!0;else if(e!=t.optionalmarker.start&&e!=t.optionalmarker.end||n){var r=t.definitions[e];if(r&&!n)for(var o=0;o<r.cardinality;o++)s.push(t.placeholder.charAt((a+o)%t.placeholder.length));else s.push(e),n=!1;return a+=s.length,s}}),u=o.slice(),l=1;l<r&&s;l++)u=u.concat(o.slice());return{mask:u,repeat:r,greedy:s}}function n(i){t.numericInput&&(i=i.split("").reverse().join(""));var n=!1,a=!1,s=!1;return e.map(i.split(""),function(e,i){var r=[];if(e==t.escapeChar)a=!0;else if(e!=t.optionalmarker.start||a){if(e!=t.optionalmarker.end||a){var o=t.definitions[e];if(o&&!a){for(var u=o.prevalidator,l=u?u.length:0,c=1;c<o.cardinality;c++){var p=l>=c?u[c-1]:[],f=p.validator,d=p.cardinality;r.push({fn:f?"string"==typeof f?new RegExp(f):new function(){this.test=f}:new RegExp("."),cardinality:d||1,optionality:n,newBlockMarker:1==n&&s,offset:0,casing:o.casing,def:o.definitionSymbol||e}),1==n&&(s=!1)}r.push({fn:o.validator?"string"==typeof o.validator?new RegExp(o.validator):new function(){this.test=o.validator}:new RegExp("."),cardinality:o.cardinality,optionality:n,newBlockMarker:s,offset:0,casing:o.casing,def:o.definitionSymbol||e})}else r.push({fn:null,cardinality:0,optionality:n,newBlockMarker:s,offset:0,casing:null,def:e}),a=!1;return s=!1,r}n=!1,s=!0}else n=!0,s=!0})}function a(e){return t.optionalmarker.start+e+t.optionalmarker.end}function s(e){for(var i=0,n=0,a=e.length,s=0;s<a&&(e.charAt(s)==t.optionalmarker.start&&i++,e.charAt(s)==t.optionalmarker.end&&n++,!(i>0&&i==n));s++);var r=[e.substring(0,s)];return s<a&&r.push(e.substring(s+1,a)),r}function r(e){for(var i=e.length,n=0;n<i&&e.charAt(n)!=t.optionalmarker.start;n++);var a=[e.substring(0,n)];return n<i&&a.push(e.substring(n+1,i)),a}function o(t,c,p){var f,d,k=s(c),m=r(k[0]);m.length>1?(f=t+m[0]+a(m[1])+(k.length>1?k[1]:""),-1==e.inArray(f,l)&&""!=f&&(l.push(f),d=i(f),u.push({mask:f,_buffer:d.mask,buffer:d.mask.slice(),tests:n(f),lastValidPosition:-1,greedy:d.greedy,repeat:d.repeat,metadata:p})),f=t+m[0]+(k.length>1?k[1]:""),-1==e.inArray(f,l)&&""!=f&&(l.push(f),d=i(f),u.push({mask:f,_buffer:d.mask,buffer:d.mask.slice(),tests:n(f),lastValidPosition:-1,greedy:d.greedy,repeat:d.repeat,metadata:p})),r(m[1]).length>1&&o(t+m[0],m[1]+k[1],p),k.length>1&&r(k[1]).length>1&&(o(t+m[0]+a(m[1]),k[1],p),o(t+m[0],k[1],p))):(f=t+k,-1==e.inArray(f,l)&&""!=f&&(l.push(f),d=i(f),u.push({mask:f,_buffer:d.mask,buffer:d.mask.slice(),tests:n(f),lastValidPosition:-1,greedy:d.greedy,repeat:d.repeat,metadata:p})))}var u=[],l=[];return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){void 0!=t.mask?o("",t.mask.toString(),t):o("",t.toString())}):o("",t.mask.toString()),t.greedy?u:u.sort(function(e,t){return e.mask.length-t.mask.length})}var a="function"==typeof ScriptEngineMajorVersion?ScriptEngineMajorVersion():new Function("/*@cc_on return @_jscript_version; @*/")()>=10,s=navigator.userAgent,r=null!==s.match(new RegExp("iphone","i")),o=null!==s.match(new RegExp("android.*safari.*","i")),u=null!==s.match(new RegExp("android.*chrome.*","i")),l=null!==s.match(new RegExp("android.*firefox.*","i")),c=/Kindle/i.test(s)||/Silk/i.test(s)||/KFTT/i.test(s)||/KFOT/i.test(s)||/KFJWA/i.test(s)||/KFJWI/i.test(s)||/KFSOWI/i.test(s)||/KFTHWA/i.test(s)||/KFTHWI/i.test(s)||/KFAPWA/i.test(s)||/KFAPWI/i.test(s),p=t("paste")?"paste":t("input")?"input":"propertychange";function f(t,i,n,s){function f(){return t[i]}function d(){return f().tests}function k(){return f()._buffer}function m(){return f().buffer}function v(a,s,r){function o(e,t,i,a){for(var s=y(e),r=i?1:0,o="",u=t.buffer,l=t.tests[s].cardinality;l>r;l--)o+=M(u,s-(l-1));return i&&(o+=i),null!=t.tests[s].fn?t.tests[s].fn.test(o,u,e,a,n):(i==M(t._buffer.slice(),e,!0)||i==n.skipOptionalPartCharacter)&&{refresh:!0,c:M(t._buffer.slice(),e,!0),pos:e}}function u(i,n){var r=!1;if(e.each(n,function(t,n){if(r=-1==e.inArray(n.activeMasksetIndex,i)&&!1!==n.result)return!1}),r)n=e.map(n,function(n,a){if(-1==e.inArray(n.activeMasksetIndex,i))return n;t[n.activeMasksetIndex].lastValidPosition=k});else{var u,l=-1,c=-1;e.each(n,function(t,n){-1!=e.inArray(n.activeMasksetIndex,i)&&!1!==n.result&(-1==l||l>n.result.pos)&&(l=n.result.pos,c=n.activeMasksetIndex)}),n=e.map(n,function(n,r){if(-1!=e.inArray(n.activeMasksetIndex,i)){if(n.result.pos==l)return n;if(!1!==n.result){for(var p=a;p<l;p++){if(!1===(u=o(p,t[n.activeMasksetIndex],t[c].buffer[p],!0))){t[n.activeMasksetIndex].lastValidPosition=l-1;break}C(t[n.activeMasksetIndex].buffer,p,t[c].buffer[p],!0),t[n.activeMasksetIndex].lastValidPosition=p}return!1!==(u=o(l,t[n.activeMasksetIndex],s,!0))&&(C(t[n.activeMasksetIndex].buffer,l,s,!0),t[n.activeMasksetIndex].lastValidPosition=l),n}}})}return n}if(r=!0===r){return!0===(c=o(a,f(),s,r))&&(c={pos:a}),c}var l=[],c=!1,p=i,d=m().slice(),k=f().lastValidPosition,v=(P(a),[]);return e.each(t,function(e,t){if("object"==typeof t){i=e;var n,u=a,h=f().lastValidPosition;if(h==k){if(u-k>1)for(var y=-1==h?0:h;y<u&&!1!==(n=o(y,f(),d[y],!0));y++){C(m(),y,d[y],!0),!0===n&&(n={pos:y});x=n.pos||y;f().lastValidPosition<x&&(f().lastValidPosition=x)}if(!g(u)&&!o(u,f(),s,r)){for(var P=_(u)-u,M=0;M<P&&!1===o(++u,f(),s,r);M++);v.push(i)}}if((f().lastValidPosition>=k||i==p)&&u>=0&&u<b()){if(!1!==(c=o(u,f(),s,r))){!0===c&&(c={pos:u});var x=c.pos||u;f().lastValidPosition<x&&(f().lastValidPosition=x)}l.push({activeMasksetIndex:e,result:c})}}}),i=p,u(v,l)}function h(){var n=i,a={activeMasksetIndex:0,lastValidPosition:-1,next:-1};e.each(t,function(e,t){"object"==typeof t&&(i=e,f().lastValidPosition>a.lastValidPosition?(a.activeMasksetIndex=e,a.lastValidPosition=f().lastValidPosition,a.next=_(f().lastValidPosition)):f().lastValidPosition==a.lastValidPosition&&(-1==a.next||a.next>_(f().lastValidPosition))&&(a.activeMasksetIndex=e,a.lastValidPosition=f().lastValidPosition,a.next=_(f().lastValidPosition)))}),n!=(i=-1!=a.lastValidPosition&&t[n].lastValidPosition==a.lastValidPosition?n:a.activeMasksetIndex)&&(j(m(),_(a.lastValidPosition),b()),f().writeOutBuffer=!0),J.data("_inputmask").activeMasksetIndex=i}function g(e){var t=y(e),i=d()[t];return void 0!=i&&i.fn}function y(e){return e%d().length}function b(){var t=k(),i=f().greedy,a=f().repeat,s=m();if(e.isFunction(n.getMaskLength))return n.getMaskLength(t,i,a,s,n);var r=t.length;return i||("*"==a?r=s.length+1:a>1&&(r+=t.length*(a-1))),r}function _(e){var t=b();if(e>=t)return t;for(var i=e;++i<t&&!g(i););return i}function P(e){var t=e;if(t<=0)return 0;for(;--t>0&&!g(t););return t}function C(e,t,i,n){n&&(t=x(e,t));var a=d()[y(t)],s=i;if(void 0!=s&&void 0!=a)switch(a.casing){case"upper":s=i.toUpperCase();break;case"lower":s=i.toLowerCase()}e[t]=s}function M(e,t,i){return i&&(t=x(e,t)),e[t]}function x(e,t){for(var i;void 0==e[t]&&e.length<b();)for(i=0;void 0!==k()[i];)e.push(k()[i++]);return t}function A(e,t,i){e._valueSet(t.join("")),void 0!=i&&D(e,i)}function j(e,t,i,n){for(var a=t,s=b();a<i&&a<s;a++)!0===n?g(a)||C(e,a,""):C(e,a,M(k().slice(),a,!0))}function E(e,t){var i=y(t);C(e,t,M(k(),i))}function I(e){return n.placeholder.charAt(e%n.placeholder.length)}function w(n,a,s,r,o){var u=void 0!=r?r.slice():S(n._valueGet()).split("");e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)}),!0!==s&&(i=0),a&&n._valueSet("");b();e.each(u,function(t,i){if(!0===o){var r=f().p,u=-1==r?r:P(r),l=-1==u?t:_(u);-1==e.inArray(i,k().slice(u+1,l))&&q.call(n,void 0,!0,i.charCodeAt(0),a,s,t)}else q.call(n,void 0,!0,i.charCodeAt(0),a,s,t),s=s||t>0&&t>f().p}),!0===s&&-1!=f().p&&(f().lastValidPosition=P(f().p))}function V(t){return e.inputmask.escapeRegex.call(this,t)}function S(e){return e.replace(new RegExp("("+V(k().join(""))+")*$"),"")}function T(e){for(var t=m(),i=t.slice(),n=i.length-1;n>=0;n--){var a=y(n);if(!d()[a].optionality)break;if(g(n)&&v(n,t[n],!0))break;i.pop()}A(e,i)}function O(t,i){if(!d()||!0!==i&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var a=e.map(m(),function(e,t){return g(t)&&v(t,e,!0)?e:null}),s=(Z?a.reverse():a).join(""),r=(Z?m().reverse():m()).join("");return e.isFunction(n.onUnMask)?n.onUnMask.call(t,r,s,n):s}function G(e){if(Z&&"number"==typeof e&&(!n.greedy||""!=n.placeholder)){e=m().length-e}return e}function D(t,i,a){var s,r=t.jquery&&t.length>0?t[0]:t;if("number"!=typeof i)return e(t).is(":visible")?(r.setSelectionRange?(i=r.selectionStart,a=r.selectionEnd):document.selection&&document.selection.createRange&&(a=(i=0-(s=document.selection.createRange()).duplicate().moveStart("character",-1e5))+s.text.length),i=G(i),a=G(a),{begin:i,end:a}):{begin:0,end:0};i=G(i),a=G(a),e(r).is(":visible")&&(a="number"==typeof a?a:i,r.scrollLeft=r.scrollWidth,0==n.insertMode&&i==a&&a++,r.setSelectionRange?(r.selectionStart=i,r.selectionEnd=a):r.createTextRange&&((s=r.createTextRange()).collapse(!0),s.moveEnd("character",a),s.moveStart("character",i),s.select()))}function K(a){if(e.isFunction(n.isComplete))return n.isComplete.call(J,a,n);if("*"!=n.repeat){var s=!1,r=0,o=i;return e.each(t,function(e,t){if("object"==typeof t){i=e;var n=P(b());if(t.lastValidPosition>=r&&t.lastValidPosition==n){for(var o=!0,u=0;u<=n;u++){var l=g(u),c=y(u);if(l&&(void 0==a[u]||a[u]==I(u))||!l&&a[u]!=k()[c]){o=!1;break}}if(s=s||o)return!1}r=t.lastValidPosition}}),i=o,s}}function R(e,t){return Z?e-t>1||e-t==1&&n.insertMode:t-e>1||t-e==1&&n.insertMode}function N(t){var i=e._data(t).events;e.each(i,function(t,i){e.each(i,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var i=t.handler;t.handler=function(e){if(!this.readOnly&&!this.disabled)return i.apply(this,arguments);e.preventDefault}}})})}function L(t){function i(t){if(void 0==e.valHooks[t]||1!=e.valHooks[t].inputmaskpatch){var i=e.valHooks[t]&&e.valHooks[t].get?e.valHooks[t].get:function(e){return e.value},n=e.valHooks[t]&&e.valHooks[t].set?e.valHooks[t].set:function(e,t){return e.value=t,e};e.valHooks[t]={get:function(t){var n=e(t);if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var a=i(t),s=n.data("_inputmask");return a!=s.masksets[s.activeMasksetIndex]._buffer.join("")?a:""}return i(t)},set:function(t,i){var a=e(t),s=n(t,i);return a.data("_inputmask")&&a.triggerHandler("setvalue.inputmask"),s},inputmaskpatch:!0}}}var n;if(Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get){if(!t._valueGet){var a=n.get,s=n.set;t._valueGet=function(){return Z?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){s.call(this,Z?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),i=e(this).data("_inputmask"),n=i.masksets,s=i.activeMasksetIndex;return i&&i.opts.autoUnmask?t.inputmask("unmaskedvalue"):a.call(this)!=n[s]._buffer.join("")?a.call(this):""},set:function(t){s.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var a=t.__lookupGetter__("value"),s=t.__lookupSetter__("value");t._valueGet=function(){return Z?a.call(this).split("").reverse().join(""):a.call(this)},t._valueSet=function(e){s.call(this,Z?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),i=e(this).data("_inputmask"),n=i.masksets,s=i.activeMasksetIndex;return i&&i.opts.autoUnmask?t.inputmask("unmaskedvalue"):a.call(this)!=n[s]._buffer.join("")?a.call(this):""}),t.__defineSetter__("value",function(t){s.call(this,t),e(this).triggerHandler("setvalue.inputmask")})}}else t._valueGet||(t._valueGet=function(){return Z?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=Z?e.split("").reverse().join(""):e}),i(t.type)}function B(e,t,i,n){var a=m();if(!1!==n)for(;!g(e)&&e-1>=0;)e--;for(u=e;u<t&&u<b();u++)if(g(u)){E(a,u);var s=_(u),r=M(a,s);if(r!=I(s))if(s<b()&&!1!==v(u,r,!0)&&d()[y(u)].def==d()[y(s)].def)C(a,u,r,!0);else if(g(u))break}else E(a,u);if(void 0!=i&&C(a,P(t),i),0==f().greedy){var o=S(a.join("")).split("");a.length=o.length;for(var u=0,l=a.length;u<l;u++)a[u]=o[u];0==a.length&&(f().buffer=k().slice())}return e}function F(e,t,i){var n=m();if(M(n,e,!0)!=I(e))for(u=P(t);u>e&&u>=0;u--)if(g(u)){var a=P(u),s=M(n,a);s!=I(a)&&!1!==v(u,s,!0)&&d()[y(u)].def==d()[y(a)].def&&(C(n,u,s,!0),E(n,a))}else E(n,u);void 0!=i&&M(n,e)==I(e)&&C(n,e,i);var r=n.length;if(0==f().greedy){var o=S(n.join("")).split("");n.length=o.length;for(var u=0,l=n.length;u<l;u++)n[u]=o[u];0==n.length&&(f().buffer=k().slice())}return t-(r-n.length)}function H(e,t,i){if(n.numericInput||Z){switch(t){case n.keyCode.BACKSPACE:t=n.keyCode.DELETE;break;case n.keyCode.DELETE:t=n.keyCode.BACKSPACE}if(Z){var a=i.end;i.end=i.begin,i.begin=a}}var s=!0;if(i.begin==i.end){var r=t==n.keyCode.BACKSPACE?i.begin-1:i.begin;n.isNumeric&&""!=n.radixPoint&&m()[r]==n.radixPoint&&(i.begin=m().length-1==r?i.begin:t==n.keyCode.BACKSPACE?r:_(r),i.end=i.begin),s=!1,t==n.keyCode.BACKSPACE?i.begin--:t==n.keyCode.DELETE&&i.end++}else i.end-i.begin!=1||n.insertMode||(s=!1,t==n.keyCode.BACKSPACE&&i.begin--);j(m(),i.begin,i.end);var o=b();if(0==n.greedy&&(isNaN(n.repeat)||n.repeat>0))B(i.begin,o,void 0,!Z&&t==n.keyCode.BACKSPACE&&!s);else{for(var u=i.begin,l=i.begin;l<i.end;l++)!g(l)&&s||(u=B(i.begin,o,void 0,!Z&&t==n.keyCode.BACKSPACE&&!s));s||(i.begin=u)}var c=_(-1);j(m(),i.begin,i.end,!0),w(e,!1,!1,m()),f().lastValidPosition<c?(f().lastValidPosition=-1,f().p=c):f().p=i.begin}function U(t){X=!1;var i=this,a=e(i),s=t.keyCode,o=D(i);s==n.keyCode.BACKSPACE||s==n.keyCode.DELETE||r&&127==s||t.ctrlKey&&88==s?(t.preventDefault(),88==s&&(Y=m().join("")),H(i,s,o),h(),A(i,m(),f().p),i._valueGet()==k().join("")&&a.trigger("cleared"),n.showTooltip&&a.prop("title",f().mask)):s==n.keyCode.END||s==n.keyCode.PAGE_DOWN?setTimeout(function(){var e=_(f().lastValidPosition);n.insertMode||e!=b()||t.shiftKey||e--,D(i,t.shiftKey?o.begin:e,e)},0):s==n.keyCode.HOME&&!t.shiftKey||s==n.keyCode.PAGE_UP?D(i,0,t.shiftKey?o.begin:0):s==n.keyCode.ESCAPE||90==s&&t.ctrlKey?(w(i,!0,!1,Y.split("")),a.click()):s!=n.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=n.insertMode||t.shiftKey||(s==n.keyCode.RIGHT?setTimeout(function(){var e=D(i);D(i,e.begin)},0):s==n.keyCode.LEFT&&setTimeout(function(){var e=D(i);D(i,e.begin-1)},0)):(n.insertMode=!n.insertMode,D(i,n.insertMode||o.begin!=b()?o.begin:o.begin-1));var u=D(i);!0===n.onKeyDown.call(this,t,m(),n)&&D(i,u.begin,u.end),te=-1!=e.inArray(s,n.ignorables)}function q(a,s,r,o,u,l){if(void 0==r&&X)return!1;X=!0;var c=this,p=e(c);a=a||window.event;r=s?r:a.which||a.charCode||a.keyCode;if(!(!0===s||a.ctrlKey&&a.altKey)&&(a.ctrlKey||a.metaKey||te))return!0;if(r){!0!==s&&46==r&&0==a.shiftKey&&","==n.radixPoint&&(r=44);var d,k,g,y=String.fromCharCode(r);if(s){var x=u?l:f().lastValidPosition+1;d={begin:x,end:x}}else d=D(c);var j=R(d.begin,d.end),E=i;j&&(e.each(t,function(e,t){"object"==typeof t&&(i=e,f().undoBuffer=m().join(""))}),i=E,H(c,n.keyCode.DELETE,d),n.insertMode||e.each(t,function(e,t){"object"==typeof t&&(i=e,F(d.begin,b()),f().lastValidPosition=_(f().lastValidPosition))}),i=E);var w=m().join("").indexOf(n.radixPoint);n.isNumeric&&!0!==s&&-1!=w&&(n.greedy&&d.begin<=w?(d.begin=P(d.begin),d.end=d.begin):y==n.radixPoint&&(d.begin=w,d.end=d.begin));var V=d.begin;k=v(V,y,u),!0===u&&(k=[{activeMasksetIndex:i,result:k}]);var S=-1;if(e.each(k,function(e,t){i=t.activeMasksetIndex,f().writeOutBuffer=!0;var a=t.result;if(!1!==a){var s=!1,r=m();if(!0!==a&&(s=a.refresh,V=void 0!=a.pos?a.pos:V,y=void 0!=a.c?a.c:y),!0!==s){if(1==n.insertMode){for(var o=b(),l=r.slice();M(l,o,!0)!=I(o)&&o>=V;)o=0==o?-1:P(o);if(o>=V){F(V,b(),y);var c=f().lastValidPosition,p=_(c);p!=b()&&c>=V&&M(m().slice(),p,!0)!=I(p)&&(f().lastValidPosition=p)}else f().writeOutBuffer=!1}else C(r,V,y,!0);(-1==S||S>_(V))&&(S=_(V))}else if(!u){var d=V<b()?V+1:V;(-1==S||S>d)&&(S=d)}S>f().p&&(f().p=S)}}),!0!==u&&(i=E,h()),!1!==o)if(e.each(k,function(e,t){if(t.activeMasksetIndex==i)return g=t,!1}),void 0!=g){var T=this;if(setTimeout(function(){n.onKeyValidation.call(T,g.result,n)},0),f().writeOutBuffer&&!1!==g.result){var O,G=m();O=s?void 0:n.numericInput?V>w?P(S):y==n.radixPoint?S-1:P(S-1):S,A(c,G,O),!0!==s&&setTimeout(function(){!0===K(G)&&p.trigger("complete"),ee=!0,p.trigger("input")},0)}else j&&(f().buffer=f().undoBuffer.split(""))}else j&&(f().buffer=f().undoBuffer.split(""));n.showTooltip&&p.prop("title",f().mask),a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}}function W(t){var i=e(this),a=this,s=t.keyCode,r=m();n.onKeyUp.call(this,t,r,n),s==n.keyCode.TAB&&n.showMaskOnFocus&&(i.hasClass("focus.inputmask")&&0==a._valueGet().length?(A(a,r=k().slice()),D(a,0),Y=m().join("")):(A(a,r),r.join("")==k().join("")&&-1!=e.inArray(n.radixPoint,r)?(D(a,G(0)),i.click()):D(a,G(0),G(b()))))}function $(t){if(!0===ee&&"input"==t.type)return ee=!1,!0;var i=this,a=e(i);if("propertychange"==t.type&&i._valueGet().length<=b())return!0;setTimeout(function(){var t=e.isFunction(n.onBeforePaste)?n.onBeforePaste.call(i,i._valueGet(),n):i._valueGet();w(i,!1,!1,t.split(""),!0),A(i,m()),!0===K(m())&&a.trigger("complete"),a.click()},0)}function Q(t){var i=this,a=e(i),s=D(i),r=i._valueGet();r=r.replace(new RegExp("("+V(k().join(""))+")*"),""),s.begin>r.length&&(D(i,r.length),s=D(i)),m().length-r.length!=1||r.charAt(s.begin)==m()[s.begin]||r.charAt(s.begin+1)==m()[s.begin]||g(s.begin)?(w(i,!1,!1,r.split("")),A(i,m()),!0===K(m())&&a.trigger("complete"),a.click()):(t.keyCode=n.keyCode.BACKSPACE,U.call(i,t)),t.preventDefault()}function z(s){if((J=e(s)).is(":input")){if(J.data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:n,isRTL:!1}),n.showTooltip&&J.prop("title",f().mask),f().greedy=f().greedy?f().greedy:0==f().repeat,null!=J.attr("maxLength")){var r=J.prop("maxLength");r>-1&&e.each(t,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=r)}),b()>=r&&r>-1&&(r<k().length&&(k().length=r),0==f().greedy&&(f().repeat=Math.round(r/k().length)),J.prop("maxLength",2*b()))}if(L(s),n.numericInput&&(n.isNumeric=n.numericInput),("rtl"==s.dir||n.numericInput&&n.rightAlignNumerics||n.isNumeric&&n.rightAlignNumerics)&&J.css("text-align","right"),"rtl"==s.dir||n.numericInput){s.dir="ltr",J.removeAttr("dir");var d=J.data("_inputmask");d.isRTL=!0,J.data("_inputmask",d),Z=!0}J.unbind(".inputmask"),J.removeClass("focus.inputmask"),J.closest("form").bind("submit",function(){Y!=m().join("")&&J.change()}).bind("reset",function(){setTimeout(function(){J.trigger("setvalue")},0)}),J.bind("mouseenter.inputmask",function(){var t=this;!e(this).hasClass("focus.inputmask")&&n.showMaskOnHover&&t._valueGet()!=m().join("")&&A(t,m())}).bind("blur.inputmask",function(){var a=e(this),s=this,r=s._valueGet(),o=m();a.removeClass("focus.inputmask"),Y!=m().join("")&&a.change(),n.clearMaskOnLostFocus&&""!=r&&(r==k().join("")?s._valueSet(""):T(s)),!1===K(o)&&(a.trigger("incomplete"),n.clearIncomplete&&(e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)}),i=0,n.clearMaskOnLostFocus?s._valueSet(""):A(s,o=k().slice())))}).bind("focus.inputmask",function(){var t=e(this),i=this,a=i._valueGet();n.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!n.showMaskOnHover||n.showMaskOnHover&&""==a)&&i._valueGet()!=m().join("")&&A(i,m(),_(f().lastValidPosition)),t.addClass("focus.inputmask"),Y=m().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),i=this;n.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||i._valueGet()==t.attr("placeholder")||(i._valueGet()==k().join("")||""==i._valueGet()?i._valueSet(""):T(i)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var i=D(t),a=m();if(i.begin==i.end){var s,r=Z?G(i.begin):i.begin,o=f().lastValidPosition;r<(s=n.isNumeric&&!1===n.skipRadixDance&&""!=n.radixPoint&&-1!=e.inArray(n.radixPoint,a)?n.numericInput?_(e.inArray(n.radixPoint,a)):e.inArray(n.radixPoint,a):_(o))?g(r)?D(t,r):D(t,_(r)):D(t,s)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){D(e,0,_(f().lastValidPosition))},0)}).bind(p+".inputmask dragdrop.inputmask drop.inputmask",$).bind("setvalue.inputmask",function(){var e=this;w(e,!0),Y=m().join(""),e._valueGet()==k().join("")&&e._valueSet("")}).bind("complete.inputmask",n.oncomplete).bind("incomplete.inputmask",n.onincomplete).bind("cleared.inputmask",n.oncleared),J.bind("keydown.inputmask",U).bind("keypress.inputmask",q).bind("keyup.inputmask",W),(o||l||u||c)&&(J.attr("autocomplete","off").attr("autocorrect","off").attr("autocapitalize","off").attr("spellcheck",!1),(l||c)&&(J.unbind("keydown.inputmask",U).unbind("keypress.inputmask",q).unbind("keyup.inputmask",W),"input"==p&&J.unbind(p+".inputmask"),J.bind("input.inputmask",Q))),a&&J.bind("input.inputmask",$);w(s,!0,!1,(e.isFunction(n.onBeforeMask)?n.onBeforeMask.call(s,s._valueGet(),n):s._valueGet()).split("")),Y=m().join("");var v;try{v=document.activeElement}catch(e){}v===s?(J.addClass("focus.inputmask"),D(s,_(f().lastValidPosition))):n.clearMaskOnLostFocus?m().join("")==k().join("")?s._valueSet(""):T(s):A(s,m()),N(s)}}var J,Z=!1,Y=m().join(""),X=!1,ee=!1,te=!1;if(void 0!=s)switch(s.action){case"isComplete":return K(s.buffer);case"unmaskedvalue":return Z=s.$input.data("_inputmask").isRTL,O(s.$input,s.skipDatepickerCheck);case"mask":z(s.el);break;case"format":(J=e({})).data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:n,isRTL:n.numericInput}),n.numericInput&&(n.isNumeric=n.numericInput,Z=!0);ie=s.value.split("");return w(J,!1,!1,Z?ie.reverse():ie,!0),Z?m().reverse().join(""):m().join("");case"isValid":(J=e({})).data("_inputmask",{masksets:t,activeMasksetIndex:i,opts:n,isRTL:n.numericInput}),n.numericInput&&(n.isNumeric=n.numericInput,Z=!0);var ie=s.value.split("");return w(J,!1,!0,Z?ie.reverse():ie),K(m())}}e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforeMask:void 0,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1,definitionSymbol:"*"},a:{validator:"[A-Za-zА-яЁё]",cardinality:1,definitionSymbol:"*"},"*":{validator:"[A-Za-zА-яЁё0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:void 0,isComplete:void 0},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,a){var s=e.extend(!0,{},e.inputmask.defaults,a);return i(s.alias,a,s),f(n(s),0,s,{action:"format",value:t})},isValid:function(t,a){var s=e.extend(!0,{},e.inputmask.defaults,a);return i(s.alias,a,s),f(n(s),0,s,{action:"isValid",value:t})}},e.fn.inputmask=function(t,a){var s,r=e.extend(!0,{},e.inputmask.defaults,a),o=0;if("string"==typeof t)switch(t){case"mask":return i(r.alias,a,r),0==(s=n(r)).length?this:this.each(function(){f(e.extend(!0,{},s),0,r,{action:"mask",el:this})});case"unmaskedvalue":var u=e(this);return u.data("_inputmask")?(s=u.data("_inputmask").masksets,o=u.data("_inputmask").activeMasksetIndex,r=u.data("_inputmask").opts,f(s,o,r,{action:"unmaskedvalue",$input:u})):u.val();case"remove":return this.each(function(){var t=e(this),i=this;if(t.data("_inputmask")){s=t.data("_inputmask").masksets,o=t.data("_inputmask").activeMasksetIndex,r=t.data("_inputmask").opts,i._valueSet(f(s,o,r,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:!0})),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var n;Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(i,"value")),n&&n.get?i._valueGet&&Object.defineProperty(i,"value",{get:i._valueGet,set:i._valueSet}):document.__lookupGetter__&&i.__lookupGetter__("value")&&i._valueGet&&(i.__defineGetter__("value",i._valueGet),i.__defineSetter__("value",i._valueSet));try{delete i._valueGet,delete i._valueSet}catch(e){i._valueGet=void 0,i._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(s=this.data("_inputmask").masksets,o=this.data("_inputmask").activeMasksetIndex,s[o]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return!this.data("_inputmask")||(s=this.data("_inputmask").masksets,o=this.data("_inputmask").activeMasksetIndex,r=this.data("_inputmask").opts,f(s,o,r,{action:"isComplete",buffer:this[0]._valueGet().split("")}));case"getmetadata":return this.data("_inputmask")?(s=this.data("_inputmask").masksets,o=this.data("_inputmask").activeMasksetIndex,s[o].metadata):void 0;default:return i(t,a,r)||(r.mask=t),0==(s=n(r)).length?this:this.each(function(){f(e.extend(!0,{},s),o,r,{action:"mask",el:this})})}else{if("object"==typeof t)return r=e.extend(!0,{},e.inputmask.defaults,t),i(r.alias,t,r),0==(s=n(r)).length?this:this.each(function(){f(e.extend(!0,{},s),o,r,{action:"mask",el:this})});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var n=e.parseJSON("{"+t+"}");e.extend(!0,n,a),i((r=e.extend(!0,{},e.inputmask.defaults,n)).alias,n,r),r.alias=void 0,e(this).inputmask(r)}catch(e){}})}}}}(jQuery);